from __future__ import annotations
import platform
import docker

from pathlib import Path
from typing import Dict
from common.singleton import Singleton


class SystemInfo(metaclass=Singleton):

    package_managers: Dict[str, str] = {
        'debian': 'apt-get',
        'arch': 'pacman',
        'gentoo': 'emerge',
        'suse': 'zypp',
        'redhat': 'yum'
    }

    def __init__(self):
        self.system = platform.system()
        self.release = platform.release()
        self.version = platform.version()
        self.home_path = str(Path.home())
        self.docker_client = docker.from_env()

    # def get_repo_save_path(self) -> str:
    #     self.home_path += '/Documents'
    #     return str(self.home_path)

    def get_repo_save_path(self, directory: str) -> str:
        self.home_path += '/Documents/' + directory
        return str(Path(self.home_path))
