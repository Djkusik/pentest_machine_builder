from git import Repo
from common.system_info import SystemInfo

# TODO check what exactly returns clone_from and base on output check if repo was cloned properly
def clone_repo(url: str):
    save_path = SystemInfo.get_instance().get_repo_save_path(url.split('/')[-1][:-4])
    logging.info(f"Starting cloning {url.split('/')[-1][:-4]}...")
    repo = Repo.clone_from(url, save_path)
    logging.info(f"Succesfully cloned {url.split('/')[-1][:-4]}")


def clone_SecLists():
    url = 'https://github.com/danielmiessler/SecLists.git'
    clone_repo(url)


def clone_PayloadsAllTheThings():
    url = 'https://github.com/swisskyrepo/PayloadsAllTheThings.git'
    clone_repo(url)